\section{序論}
命題論理の充足可能性問題（Satisfiability Testing, SAT）とは、与えられた命題変数\( x_1,\dots,x_n \)を含んだ命題論理式\( \varphi(x_1,\dots,x_n) \)に対して、これを充足する変数への真偽割当\( x_i \mapsto t_i \in \{ \top, \bot \} \)が存在するかを問う問題である。
%SAT ははじめて NP 完全性が証明された問題であり~\cite{Cook}、
%また
充足可能性問題SATを利用した問題解決手法はシステム検証やプランニング問題など様々な分野において利用されており、
この充足可能性問題を解くSAT solverは広く利用されている\cite{PracticalExample}。
しかし充足可能性問題はNP完全であることが証明されており\cite{Cook}、
問題によってはその解を求めるのに極めて時間がかかることもある。
そのため高速化は重要な課題となっており高速化のための研究が進められている~\cite{glucose,Chaff,BerkMin,MINISAT,kissat,neuralnet-vs-random-VSIDS}。

近年の高速ソルバの多くはDPLL手続き\cite{DPLL}に加えて矛盾からの節学習を採用したCDCLソルバ\cite{CDCL}が使用されており、
このソルバに対して改良を行うことで高速化を図る研究などがある。
その1例としてニューラルネットワークを利用してUNSAT coreを予測することで既存ソルバを高速化させる研究がある\cite{neuralnet-vs-random-VSIDS}
また、SAT competitionと呼ばれるSAT solverの性能を競う大会も毎年開催されており、
2024年の大会においてはCDCLソルバの中でも高速なKissat\cite{kissat}を改良したソルバーなどが多く使用されている。%Main trackにおいてはIsaSATが高い評価を得ている\todo{IsaSATの文献}。

このように現在でも SAT solover の性能は着実に向上しているが、こうした性能向上はどこまで行けるのだろうか。
例えば、（アルゴリズムの改善で）現在のソルバから10倍や100倍といった劇的な改善は可能なのだろうか。
もし可能なのだとしたら、どのようにして達成できるだろうか。
%SAT solverはどこまで高速になりうるか、どうしたら高速化できるか、というのは重要な問いである。

%本論文では、与えられた命題論理式が充足不能であることの短い証明を作る方法を与える。\cite{Kamo00}

%本研究の背景にはSAT solverの高速化という課題がある。

この問に直接答えることは容易ではない。
そこでこれに代わる問としてどのようなものがあるかを考えてみる。

ここで理想的なSATソルバを考えてみよう。
充足可能な論理式はソルバは勘で正しく割り当てを求めることで、論理式に対して線形時間で答えにたどり着くが、
充足不能な場合にはソルバは充足不能性の証明を出力するので、その実行時間の下限は充足不能性の証明の長さで押さえられる。
そのため、充足不能性の証明はひとつの論理式に限っても多数あるが、その最も短いものの長さだけは実行時間が必要となる。

\begin{comment}
さらに、短い証明を作ることは、ソルバの性能の限界に関する間接的な答えを与えることができる。
SAT solverは充足不能な命題に対して充足不能性の証明を与えるため、
\end{comment}
したがって証明の長さの下限は理想的なSAT solverの実行時間の下限となる。 
もし現在のSAT solverの生成する証明よりも短い証明が存在しないのであれば、
現在のSAT solverはある意味で最適に近いということになり、
逆に1\%の長さの短い証明があれば、現在のSAT solverに対して100倍程度の高速化の可能性があることになる。
また、もし短い証明を構成できれば、それを分析することを通じて高速化の方針を得られる可能性もある。

%
\todo{理想的なSATソルバを考えてみる。充足可能な論理式は勘で正しく割り当てを求めることで、論理式に対して線形時間で答えにたどり着く。充足不能な場合にはソルバは充足不能性の証明を出力するので、その実行時間の下限は充足不能性の証明の長さで押されられる。充足不能性の証明はひとつの論理式に限っても多数あるが、その最も短いものの長さだけは実行時間が必要。}
\todo{メモ（旧版）：更にUNSATにおける解となる証明はSATにおける解となる変数選択への割当に比べて、
その作成方法といった部分において多くの方法が存在するため興味深い。
例えば学習節の作り方が変わるとその場合の証明も大きく変わる。
また、SATは変数の数が上限になっているので想定される解の種類が証明よりも少なく、
同じ割当だとしてもその割当にいたる探索の方法が大きく違う場合も十分ありえる。
つまり、探索の方法を変えた際に証明の方がよりその変化の影響を受けやすい。}
%

そこで本論文では、これに代わる問として「充足不能な論理式の充足不能性の証明は短くできるのか」について議論する。

我々は証明はまだ短くできるだろうと予想し、これを示すために、本研究は実際に短い証明を作ることを目指した。

最短の証明がどれほど短いかは、NP=coNP 問題とも関わる重要な問いであるため、理論的な探求がされてきた~\cite{proof}。
また、問題の情報や構成がわかっている場合において短い証明を作成する研究は存在する。
例として鳩の巣原理に対してその最短の証明を作成する研究\cite{pigeonhole}がある。
\todo{問題の構成から短い証明を作った鳩の巣問題
（いくつかの）具体的な問題について最小の証明を作成する研究などは存在
なお、問題の情報や構成がわかっている場合において短い証明を作成する研究は存在する。
例として鳩の巣原理に対してその最短の証明を作成する研究\todo{鳩の巣問題}がある。
}

しかしながら、現実でSATソルバで解かれている問題たちに対する証明の短さの下限についての研究や、与えられた入力に対して短い証明を作るソルバの研究はこれまでなかった。
SAT solverの研究は多いが重視される指標は速さであり、速く作れる証明が必ずしも短いとは限らないためである。

本研究では CDCL solver の中でも比較的改造が簡単な MiniSat\cite{MINISAT}に対して改造を行い、
特定のタイミングで選択する変数を変更したり、変数の重みを変更したりするなど、変数選択へ介入を行った。
そして、最適化のために遺伝アルゴリズム\cite{GA}を使用し、短い証明が作れるような重み変更のタイミングとその重みの解を探索することで様々な問題に対して短い証明を作成した。
この時の証明の形式は標準的な証明の形式であるDRAT\cite{DRAT}を使用した。

実験の結果として、次のような観察を得た。
遺伝アルゴリズムを変数選択への介入を行うMiniSatに使用することで使用する前のMiniSatよりも短い証明を作れることがわかった。
しかし、ほとんどの問題において現在の高速なSAT solverであるKissatが作る証明よりも短い証明は作れておらず、短い証明ができてもKissatが作る証明の半分になるような改善は達成できなかった。
加えて、特定のタイミングで変数選択を変更しても重みが変わっていなことによって探索が介入をしなかった場合の探索とほとんど同じになってしまうことが得られた。

今回作成した証明がKissatに勝てない理由としては考えられる可能性は3種類ある。
1つ目が今回提案したような変数選択への介入ではKissatに勝てない可能性であり、
この場合についてはMiniSatとKissatの証明の作り方に違いがある可能性がある。
2つ目は遺伝アルゴリズムには効果がない可能性である。
この可能性について調べるためにはパラメータやオペレータを変更した際に効果が変わるかを調べる必要がある。
3つ目はKissatの証明が最適解である可能性であり、
この場合Kissatに対して介入を行なった場合に証明をを短くできるかどうかが課題になってくる。